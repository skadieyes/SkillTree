# webpackå®šåˆ¶å‰ç«¯ç¯å¢ƒ
[TOC]
## å‚è€ƒ
> [ä½¿ç”¨webpackå®šåˆ¶å‰ç«¯å¼€å‘ç¯å¢ƒ](https://www.kancloud.cn/hanxuming/webpack/960756)
## webpack
> webpackæœ¬è´¨ä¸Šä¸Šä¸€ä¸ªæ‰“åŒ…å·¥å…·ï¼Œå®ƒä¼šæ ¹æ®ä»£ç çš„å†…å®¹è§£ææ¨¡å—ä»¥æ¥ï¼Œå¸®åŠ©æˆ‘ä»¬æŠŠå¤šä¸ªæ¨¡å—çš„ä»£ç æ‰“åŒ…ã€‚

### å…¥å£ï¼ˆentryï¼‰
1. å¤šä¸ªä»£ç æ¨¡å—ä¸­ä¼šæœ‰ä¸€ä¸ªèµ·å§‹çš„ .js æ–‡ä»¶ï¼Œè¿™ä¸ªä¾¿æ˜¯ webpack æ„å»ºçš„å…¥å£ã€‚webpack ä¼šè¯»å–è¿™ä¸ªæ–‡ä»¶ï¼Œå¹¶ä»å®ƒå¼€å§‹è§£æä¾èµ–ï¼Œç„¶åè¿›è¡Œæ‰“åŒ…ã€‚

2. å¦‚æœæ˜¯å•é¡µé¢åº”ç”¨ï¼Œé‚£ä¹ˆå…¥å£å¯èƒ½åªæœ‰ä¸€ä¸ªï¼›å¦‚æœæ˜¯å¤šä¸ªé¡µé¢çš„é¡¹ç›®ï¼Œé‚£ä¹ˆç»å¸¸æ˜¯ä¸€ä¸ªé¡µé¢ä¼šå¯¹åº”ä¸€ä¸ªæ„å»ºå…¥å£ï¼Œæ‰€ä»¥ä¼šæœ‰å¤šä¸ªå…¥å£ã€‚

3. ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ªæ–‡ä»¶ä½œä¸ºä¸€ä¸ªå…¥å£ï¼Œwebpack ä¼šè§£æä¸¤ä¸ªæ–‡ä»¶çš„ä¾èµ–åè¿›è¡Œæ‰“åŒ…ã€‚
 ```javascript
    
// ä½¿ç”¨æ•°ç»„æ¥å¯¹å¤šä¸ªæ–‡ä»¶è¿›è¡Œæ‰“åŒ…
module.exports = {
  entry: {
    main: [
      './src/foo.js',
      './src/bar.js'
    ]
  }
}

  ```
### loader
1. webpackä¸­æä¾›ä¸€ç§å¤„ç†å¤šç§æ–‡ä»¶æ ¼å¼çš„æœºåˆ¶ï¼Œå°±æ˜¯ä½¿ç”¨loaderã€‚æˆ‘ä»¬å¯ä»¥æŠŠ loader ç†è§£ä¸ºæ˜¯ä¸€ä¸ªè½¬æ¢å™¨ï¼Œè´Ÿè´£æŠŠæŸç§æ–‡ä»¶æ ¼å¼çš„å†…å®¹è½¬æ¢æˆ webpack å¯ä»¥æ”¯æŒæ‰“åŒ…çš„æ¨¡å—ã€‚

2. æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬ç”¨handlesbars-loaderæ¥å¤„ç†.hbsæ–‡ä»¶ï¼Œç”¨css-loaderå’Œstyle-loaderæ¥å¤„ç†.cssæ–‡ä»¶ï¼Œæœ€ç»ˆæŠŠä¸åŒæ ¼å¼çš„æ–‡ä»¶éƒ½è§£ææˆjsæ–‡ä»¶ï¼Œä»¥ä¾¿åç»­åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚

3. åœ¨module.rulesé…ç½®ç›¸å…³çš„è§„åˆ™ï¼Œæ¯”å¦‚ä½¿ç”¨babelæ¥å¤„ç†.jsæ–‡ä»¶ã€‚

 ```javascript
// ä½¿ç”¨æ•°ç»„æ¥å¯¹å¤šä¸ªæ–‡ä»¶è¿›è¡Œæ‰“åŒ…
module: {
  // ...
  rules: [
    {
      test: /\.jsx?/, // åŒ¹é…æ–‡ä»¶è·¯å¾„çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œé€šå¸¸æˆ‘ä»¬éƒ½æ˜¯åŒ¹é…æ–‡ä»¶ç±»å‹åç¼€
      include: [
        path.resolve(__dirname, 'src') // æŒ‡å®šå“ªäº›è·¯å¾„ä¸‹çš„æ–‡ä»¶éœ€è¦ç»è¿‡ loader å¤„ç†
      ],
      use: 'babel-loader', // æŒ‡å®šä½¿ç”¨çš„ loader
    },
  ],
}
```

### plugin
> åœ¨ webpack çš„æ„å»ºæµç¨‹ä¸­ï¼Œplugin ç”¨äºå¤„ç†æ›´å¤šå…¶ä»–çš„ä¸€äº›æ„å»ºä»»åŠ¡ã€‚

> é™¤äº†å‹ç¼© JS ä»£ç çš„ uglifyjs-webpack-pluginï¼Œå¸¸ç”¨çš„è¿˜æœ‰å®šä¹‰ç¯å¢ƒå˜é‡çš„ DefinePluginï¼Œç”Ÿæˆ CSS æ–‡ä»¶çš„ ExtractTextWebpackPlugin ç­‰ã€‚

### è¾“å‡ºï¼ˆoutputï¼‰
1. webpackçš„è¾“å‡ºæ˜¯æŒ‡webpackæœ€ç»ˆæ„å»ºå‡ºæ¥çš„é™æ€æ–‡ä»¶ï¼Œæ„å»ºç»“æœçš„æ–‡ä»¶åã€è·¯å¾„ç­‰éƒ½æ˜¯å¯ä»¥é…ç½®çš„ï¼Œä½¿ç”¨ output å­—æ®µã€‚

 ```javascript
// ä½¿ç”¨æ•°ç»„æ¥å¯¹å¤šä¸ªæ–‡ä»¶è¿›è¡Œæ‰“åŒ…
module.exports = {
  entry: {
    foo: './src/foo.js',
    bar: './src/bar.js',
  },
  output: {
    filename: '[name].js',
    path: __dirname + '/dist',
  },
}
```
## æ­å»ºåŸºæœ¬çš„å‰ç«¯å¼€å‘ç¯å¢ƒ
1. æ„å»ºæˆ‘ä»¬å‘å¸ƒéœ€è¦çš„HTMLï¼ŒCSSï¼ŒJSæ–‡ä»¶
2. ä½¿ç”¨CSSé¢„å¤„ç†å™¨æ¥ç¼–å†™æ ·å¼
3. å¤„ç†å’Œå‹ç¼©å›¾ç‰‡
4. ä½¿ç”¨Babelæ¥æ”¯æŒESæ–°ç‰¹æ€§
5. æœ¬åœ°æä¾›é™æ€æœåŠ¡ä»¥æ–¹ä¾¿å¼€å‘è°ƒè¯•

### å…³è”HTML

1. webpack é»˜è®¤ä»ä½œä¸ºå…¥å£çš„ .js æ–‡ä»¶è¿›è¡Œæ„å»ºï¼ˆæ›´å¤šæ˜¯åŸºäº SPA å»è€ƒè™‘ï¼‰ï¼Œä½†é€šå¸¸ä¸€ä¸ªå‰ç«¯é¡¹ç›®éƒ½æ˜¯ä»ä¸€ä¸ªé¡µé¢ï¼ˆå³ HTMLï¼‰å‡ºå‘çš„ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ï¼Œåˆ›å»ºä¸€ä¸ª HTML æ–‡ä»¶ï¼Œä½¿ç”¨ script æ ‡ç­¾ç›´æ¥å¼•ç”¨æ„å»ºå¥½çš„ JS æ–‡ä»¶

2. æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨webpackä¸­ä½¿ç”¨html-webpack-plugin , è¿™ä¸ªæ’ä»¶ä¼šä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª HTML æ–‡ä»¶ï¼Œå…¶ä¸­ä¼šå¼•ç”¨æ„å»ºå‡ºæ¥çš„ JS æ–‡ä»¶ã€‚

 ```javascript
// ä½¿ç”¨æ•°ç»„æ¥å¯¹å¤šä¸ªæ–‡ä»¶è¿›è¡Œæ‰“åŒ…
module.exports = {
  // ...
  plugins: [
    new HtmlWebpackPlugin({
      filename: 'index.html', // é…ç½®è¾“å‡ºæ–‡ä»¶åå’Œè·¯å¾„
      template: 'assets/index.html', // é…ç½®æ–‡ä»¶æ¨¡æ¿
    }),
  ],
}
```

### æ„å»ºCSS
1. åœ¨é…ç½®ä¸­å¼•å…¥ loader æ¥è§£æå’Œå¤„ç† CSS æ–‡ä»¶ã€‚
// ä½¿ç”¨æ•°ç»„æ¥å¯¹å¤šä¸ªæ–‡ä»¶è¿›è¡Œæ‰“åŒ…
 ```javascript
module.exports = {
  module: {
    rules: [
      // ...
      {
        test: /\.css/,
        include: [
          path.resolve(__dirname, 'src'),
        ],
        use: [
          'style-loader',
          'css-loader',
        ],
      },
    ],
  }
}
```

2. css-loader è´Ÿè´£è§£æ CSS ä»£ç ï¼Œä¸»è¦æ˜¯ä¸ºäº†å¤„ç† CSS ä¸­çš„ä¾èµ–ï¼Œä¾‹å¦‚ @import å’Œ url() ç­‰å¼•ç”¨å¤–éƒ¨æ–‡ä»¶çš„å£°æ˜ï¼›style-loader ä¼šå°† css-loader è§£æçš„ç»“æœè½¬å˜æˆ JS ä»£ç ï¼Œè¿è¡Œæ—¶åŠ¨æ€æ’å…¥ style æ ‡ç­¾æ¥è®© CSS ä»£ç ç”Ÿæ•ˆã€‚

3. ç»è¿‡ä¸¤ä¸ªloaderçš„å¤„ç†ï¼ŒCSSä»£ç ä¼šè½¬å˜æˆJSï¼Œå’Œindex.jsä¸€èµ·æ‰“åŒ…ã€‚å¦‚æœéœ€è¦å•ç‹¬æŠŠCSSæ–‡ä»¶åˆ†ç¦»å‡ºæ¥ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨extract-text-webpack-plugin æ’ä»¶ã€‚
 ```javascript
module.exports = {
  // ...
  module: {
    rules: [
      {
        test: /\.css$/,
        // å› ä¸ºè¿™ä¸ªæ’ä»¶éœ€è¦å¹²æ¶‰æ¨¡å—è½¬æ¢çš„å†…å®¹ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨å®ƒå¯¹åº”çš„ loader
        use: ExtractTextPlugin.extract({ 
          fallback: 'style-loader',
          use: 'css-loader',
        }), 
      },
    ],
  },
  plugins: [
    // å¼•å…¥æ’ä»¶ï¼Œé…ç½®æ–‡ä»¶åï¼Œè¿™é‡ŒåŒæ ·å¯ä»¥ä½¿ç”¨ [hash]
    new ExtractTextPlugin('index.css'),
  ],
}
 ```
 
 4. ä½¿ç”¨CSSé¢„å¤„ç†å™¨ï¼Œå¦‚Sass/Lessï¼Œå¯ä»¥æ·»åŠ ç›¸åº”loaderæ¥æ”¯æŒã€‚

### å¤„ç†å›¾ç‰‡æ–‡ä»¶
> æ·»åŠ ä¸€ä¸ªfile-loaderçš„loaderæ¥å¤„ç†å›¾ç‰‡æ–‡ä»¶ï¼Œå®ƒçš„ä½œç”¨ä¸»è¦æ˜¯ç›´æ¥è¾“å‡ºæ–‡ä»¶ï¼ŒæŠŠæ„å»ºä¹‹åçš„æ–‡ä»¶è·¯å¾„è¿”å›ã€‚

### Babelç¼–è¯‘ES6ï¼ŒES7
> æ·»åŠ Babelçš„loaderï¼Œè®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ES6ï¼ŒES7çš„æ ‡å‡†æ¥ç¼–å†™JSçš„ä»£ç 

### å¯åŠ¨é™æ€æœåŠ¡
> å®Œæˆäº†å¤„ç†å¤šç§æ–‡ä»¶ç±»å‹çš„ webpack é…ç½®ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ webpack-dev-server åœ¨æœ¬åœ°å¼€å¯ä¸€ä¸ªç®€å•çš„é™æ€æœåŠ¡æ¥è¿›è¡Œå¼€å‘ã€‚
> åœ¨é¡¹ç›®ä¸‹å®‰è£… webpack-dev-serverï¼Œç„¶åæ·»åŠ å¯åŠ¨å‘½ä»¤åˆ° package.json ä¸­

 ```javascript
"scripts": {
  "build": "webpack --mode production",
  "start": "webpack-dev-server --mode development"
}
 ```

 ## é…ç½®é¡¹
 ### ä»£ç æ¨¡å—è·¯å¾„
 1. alias
 > å‡è®¾æˆ‘ä»¬æœ‰ä¸ª utils æ¨¡å—æå…¶å¸¸ç”¨ï¼Œç»å¸¸ç¼–å†™ç›¸å¯¹è·¯å¾„å¾ˆéº»çƒ¦ï¼Œå¸Œæœ›å¯ä»¥ç›´æ¥ import 'utils' æ¥å¼•ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é…ç½®æŸä¸ªæ¨¡å—çš„åˆ«å

  ```javascript
alias: {
  utils: path.resolve(__dirname, 'src/utils') // è¿™é‡Œä½¿ç”¨ path.resolve å’Œ __dirname æ¥è·å–ç»å¯¹è·¯å¾„
}
 ```

 2. extensions
 > è¿™ä¸ªé…ç½®åœ¨è§£ææ¨¡å—æ—¶ï¼Œå¯ä»¥å¸®ä½ è‡ªåŠ¨è¡¥å…¨åç¼€åï¼Œæœ‰äº†ä¸Šè¿°å¤‡æ³¨ï¼Œå½“ä½ åœ¨ src/utils/ ç›®å½•ä¸‹æœ‰ä¸€ä¸ª common.js æ–‡ä»¶æ—¶ï¼Œå°±å¯ä»¥è¿™æ ·æ¥å¼•ç”¨ã€‚

  ```javascript
extensions: ['.wasm', '.mjs', '.js', '.json', '.jsx'],
// è¿™é‡Œçš„é¡ºåºä»£è¡¨åŒ¹é…åç¼€çš„ä¼˜å…ˆçº§ï¼Œä¾‹å¦‚å¯¹äº index.js å’Œ index.jsxï¼Œä¼šä¼˜å…ˆé€‰æ‹© index.js
 ```

  ```javascript
  import * as common from './src/utils/common'/
 ```

3. modules
> å¯¹äºç›´æ¥å£°æ˜ä¾èµ–åçš„æ¨¡å—ï¼ˆå¦‚ react ï¼‰ï¼Œwebpack ä¼šç±»ä¼¼ Node.js ä¸€æ ·è¿›è¡Œè·¯å¾„æœç´¢ï¼Œæœç´¢ node_modules ç›®å½•ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯ä½¿ç”¨ resolve.modules å­—æ®µè¿›è¡Œé…ç½®çš„ã€‚è¿™æ ·é…ç½®åœ¨æŸç§ç¨‹åº¦ä¸Šå¯ä»¥ç®€åŒ–æ¨¡å—çš„æŸ¥æ‰¾ï¼Œæå‡æ„å»ºé€Ÿåº¦ã€‚

  ```javascript
resolve: {
  modules: [
    path.resolve(__dirname, 'node_modules'), // æŒ‡å®šå½“å‰ç›®å½•ä¸‹çš„ node_modules ä¼˜å…ˆæŸ¥æ‰¾
    'node_modules', // å¦‚æœæœ‰ä¸€äº›ç±»åº“æ˜¯æ”¾åœ¨ä¸€äº›å¥‡æ€ªçš„åœ°æ–¹çš„ï¼Œä½ å¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„è·¯å¾„æˆ–è€…ç›®å½•
  ],
},
 ```

4. mainFields

5. resolveLoader

### loader
> å½“æˆ‘ä»¬éœ€è¦é…ç½® loader æ—¶ï¼Œéƒ½æ˜¯åœ¨ module.rules ä¸­æ·»åŠ æ–°çš„é…ç½®é¡¹ï¼Œåœ¨è¯¥å­—æ®µä¸­ï¼Œæ¯ä¸€é¡¹è¢«è§†ä¸ºä¸€æ¡åŒ¹é…ä½¿ç”¨ loader çš„è§„åˆ™ã€‚

  ```javascript
module.exports = {
  // ...
  module: {
    rules: [ 
      {
        test: /\.jsx?/, // æ¡ä»¶
        include: [ 
          path.resolve(__dirname, 'src'),
        ], // æ¡ä»¶
        use: 'babel-loader', // è§„åˆ™åº”ç”¨ç»“æœ
      }, // ä¸€ä¸ª object å³ä¸€æ¡è§„åˆ™
      // ...
    ],
  },
}
 ```

 1. è§„åˆ™æ¡ä»¶é…ç½®

 > test: åŒ¹é…ç‰¹å®šæ¡ä»¶
 > include: åŒ¹é…ç‰¹å®šè·¯å¾„
 > eclude: æ’é™¤ç‰¹å®šè·¯å¾„ 
 > and: å¿…é¡»åŒ¹é…æ•°ç»„ä¸­çš„æ‰€æœ‰æ¡ä»¶
 > or: åŒ¹é…æ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªæ¡ä»¶
 > not: æ’é™¤åŒ¹é…æ•°ç»„ä¸­æ‰€æœ‰æ¡ä»¶

 2. module type

 > javascript/autoï¼šå³ webpack 3 é»˜è®¤çš„ç±»å‹ï¼Œæ”¯æŒç°æœ‰çš„å„ç§ JS ä»£ç æ¨¡å—ç±»å‹ â€”â€” CommonJSã€AMDã€ESM

 > javascript/esmï¼šECMAScript modulesï¼Œå…¶ä»–æ¨¡å—ç³»ç»Ÿï¼Œä¾‹å¦‚ CommonJS æˆ–è€… AMD ç­‰ä¸æ”¯æŒï¼Œæ˜¯ .mjs æ–‡ä»¶çš„é»˜è®¤ç±»å‹

> javascript/dynamicï¼šCommonJS å’Œ AMDï¼Œæ’é™¤ ESM

> javascript/jsonï¼šJSON æ ¼å¼æ•°æ®ï¼Œrequire æˆ–è€… import éƒ½å¯ä»¥å¼•å…¥ï¼Œæ˜¯ .json æ–‡ä»¶çš„é»˜è®¤ç±»å‹

> webassembly/experimentalï¼šWebAssembly modulesï¼Œå½“å‰è¿˜å¤„äºè¯•éªŒé˜¶æ®µï¼Œæ˜¯ .wasm æ–‡ä»¶çš„é»˜è®¤ç±»å‹

3. use
> é…ç½®loader 

4. æ‰§è¡Œé¡ºåº
> æ‰€æœ‰çš„ loader æŒ‰ç…§å‰ç½® -> è¡Œå†… -> æ™®é€š -> åç½®çš„é¡ºåºæ‰§è¡Œã€‚æ‰€ä»¥å½“æˆ‘ä»¬è¦ç¡®ä¿ eslint-loader åœ¨ babel-loader ä¹‹å‰æ‰§è¡Œæ—¶ï¼Œå¯ä»¥æ·»åŠ  enforce é…ç½®

5. noParse
> å¯¹äºä¸€äº›ä¸éœ€è¦è§£æä¾èµ–ï¼ˆå³æ— ä¾èµ–ï¼‰ çš„ç¬¬ä¸‰æ–¹å¤§å‹ç±»åº“ç­‰ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå­—æ®µæ¥é…ç½®. æ¥æé«˜æ•´ä½“çš„æ„å»ºé€Ÿåº¦ã€‚

### plugin
1. DefinePlugin
> åˆ›å»ºä¸€äº›åœ¨ç¼–è¯‘æ—¶å¯ä»¥é…ç½®çš„å…¨å±€å¸¸é‡
> å¯ä»¥åœ¨åº”ç”¨ä»£ç æ–‡ä»¶ä¸­ï¼Œè®¿é—®é…ç½®å¥½çš„å˜é‡

2. CopyWebpackPlugin
> å¤åˆ¶æ–‡ä»¶

3. ExtractTextPlugin
> æ¯”å¦‚è¯´æŠŠä¾èµ–çš„cssåˆ†ç¦»å‡ºæ¥åšå•ç‹¬çš„æ–‡ä»¶ã€‚
> å› ä¸ºæ¶‰åŠæ¨¡å—è½¬æ¢ï¼Œåœ¨loader ä¸­ä¹Ÿæœ‰ç›¸å¯¹åº”é…ç½®

4. ProvidePlugin
> è¯¥ç»„ä»¶ç”¨äºå¼•ç”¨æŸäº›æ¨¡å—ä½œä¸ºåº”ç”¨è¿è¡Œæ—¶çš„å˜é‡ï¼Œä»è€Œä¸å¿…æ¯æ¬¡éƒ½ç”¨ require æˆ–è€… import

5. IgnorePlugin
>  è¿™ä¸ªæ’ä»¶ç”¨äºå¿½ç•¥æŸäº›ç‰¹å®šçš„æ¨¡å—ï¼Œè®© webpack ä¸æŠŠè¿™äº›æŒ‡å®šçš„æ¨¡å—æ‰“åŒ…è¿›å»ã€‚

## webpack-dev-server
> åœ¨æ„å»ºä»£ç å¹¶éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæœ¬åœ°ç¯å¢ƒï¼Œç”¨äºè¿è¡Œæˆ‘ä»¬å¼€å‘çš„ä»£ç ã€‚è¿™ä¸ªç¯å¢ƒç›¸å½“äºæä¾›äº†ä¸€ä¸ªç®€å•çš„æœåŠ¡å™¨ï¼Œç”¨äºè®¿é—® webpack æ„å»ºå¥½çš„é™æ€æ–‡ä»¶ï¼Œæˆ‘ä»¬æ—¥å¸¸å¼€å‘æ—¶å¯ä»¥ä½¿ç”¨å®ƒæ¥è°ƒè¯•å‰ç«¯ä»£ç ã€‚

### é…ç½®
1. public - ç”¨äºæŒ‡å®šé™æ€æœåŠ¡å™¨çš„åŸŸå
2. port - ç”¨æˆ·æŒ‡å®šé™æ€æœåŠ¡çš„ç«¯å£
3. publicPath - ç”¨äºæŒ‡å®šæ„å»ºå¥½çš„é™æ€æ–‡ä»¶åœ¨æµè§ˆå™¨ä¸­ç”¨ä»€ä¹ˆè·¯å¾„å»è®¿é—®
4. proxy - æŠŠç‰¹å®šURLçš„è¯·æ±‚ä»£ç†åˆ°å¦ä¸€å°æœåŠ¡å™¨ä¸Šï¼ˆ é€šè¿‡http-proxy-middlewareå®ç°çš„ï¼‰
5. æ˜¯é…ç½®é¢å¤–çš„é™æ€æ–‡ä»¶å†…å®¹çš„è®¿é—®è·¯å¾„ï¼Œå³é‚£äº›ä¸ç»è¿‡ webpack æ„å»ºï¼Œä½†æ˜¯éœ€è¦åœ¨ webpack-dev-server ä¸­æä¾›è®¿é—®çš„é™æ€èµ„æºï¼ˆå¦‚éƒ¨åˆ†å›¾ç‰‡ç­‰ï¼‰ã€‚
6. before,after: é™æ€èµ„æºä¸­é—´ä»¶å¤„ç†å‰å
7. ä¸­é—´ä»¶ webpack-dev-middleware

### å®ç°ä¸€ä¸ªmockæœåŠ¡
1. åŸºäºexpress appå®ç°ä¸€ä¸ªç®€å•çš„mockåŠŸèƒ½æ–¹æ³•
2. åº”ç”¨åˆ°é…ç½®çš„beforeå­—æ®µ

## å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒçš„æ„å»ºé…ç½®å·®å¼‚
> åœ¨æ—¥å¸¸çš„å‰ç«¯å¼€å‘å·¥ä½œä¸­ï¼Œä¸€èˆ¬éƒ½ä¼šæœ‰å¼€å‘ç¯å¢ƒå’Œç”¨äºçº¿ä¸Šçš„ï¼Œæœ‰æ—¶å€™è¿˜ä¼šæœ‰ä¸€å¥—æµ‹è¯•ç¯å¢ƒï¼Œåœ¨è¿è¡Œæ—¶ç›´æ¥è¿›è¡Œmockç­‰å·¥ä½œã€‚
> å½“ä½ ä½¿ç”¨production modeæ—¶ï¼Œå›å¯ç”¨å„ç§æ€§èƒ½ä¼˜åŒ–çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ„å»ºç»“æœä¼˜åŒ–å’Œwebpackæ–°èƒ½ä¼˜åŒ–ã€‚
> development mode çš„è¯ï¼Œåˆ™ä¼šå¼€å¯ debug å·¥å…·ï¼Œè¿è¡Œæ—¶æ‰“å°è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Œä»¥åŠæ›´åŠ å¿«é€Ÿçš„å¢é‡ç¼–è¯‘æ„å»ºã€‚

### å¸¸è§çš„ç¯å¢ƒå·®å¼‚é…ç½®
> ç”Ÿäº§ç¯å¢ƒå¯èƒ½éœ€è¦åˆ†ç¦» CSS æˆå•ç‹¬çš„æ–‡ä»¶ï¼Œä»¥ä¾¿å¤šä¸ªé¡µé¢å…±äº«åŒä¸€ä¸ª CSS æ–‡ä»¶
> ç”Ÿäº§ç¯å¢ƒéœ€è¦å‹ç¼© HTML/CSS/JS ä»£ç 
> ç”Ÿäº§ç¯å¢ƒéœ€è¦å‹ç¼©å›¾ç‰‡

> å¼€å‘ç¯å¢ƒéœ€è¦ç”Ÿæˆ sourcemap æ–‡ä»¶ ï¼ˆ ä¸€ä¸ªå­˜å‚¨æºä»£ç ä¸ç¼–è¯‘ä»£ç å¯¹åº”ä½ç½®æ˜ å°„çš„ä¿¡æ¯æ–‡ä»¶ ï¼‰
> å¼€å‘ç¯å¢ƒéœ€è¦æ‰“å° debug ä¿¡æ¯
> å¼€å‘ç¯å¢ƒéœ€è¦ live reload æˆ–è€… hot reload çš„åŠŸèƒ½

> å¤šä¸ªå·®å¼‚ç¯å¢ƒï¼Œå¯ä»¥æ ¹æ®ç¯å¢ƒæ‹†åˆ†å‡ºå¤šä¸ªé…ç½®æ–‡ä»¶

## HMR
> ç”¨HMRæé«˜å¼€å‘æ•ˆç‡
> HMRä¸ç”¨æ•´ä¸ªé¡µé¢åˆ·æ–°ï¼Œå±€éƒ¨æ›¿æ¢æ‰éƒ¨åˆ†æ¨¡å—ä»£ç å¹¶ä¸”ä½¿å…¶ç”Ÿæ•ˆï¼Œå¯ä»¥çœ‹åˆ°ä»£ç å˜æ›´åçš„æ•ˆæœã€‚

### é…ç½®ä½¿ç”¨
> HMRæ˜¯webpackæä¾›çš„éå¸¸æœ‰ç”¨çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå®‰è£…å¥½webpack-dev-server,æ·»åŠ ä¸¤ä¸ªHMRéœ€è¦çš„pluginã€‚