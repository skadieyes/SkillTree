# webAssembly的关键概念
## 模块
> 模块是已经被编译为可执行机器码的二进制对象，模块可以简单地与操作系统中的本地可执行程序进行类比，是无状态的。
## 内存
> 在WebAssembly看来，内存是一段连续的空间，可以使用load,store等低级指令按照地址读写其中的数据。在浏览器环境下，webassembly的内存是由JavaScript中的ArrayBuffer对象实现的，所以意味着WebAseembly的内存空间对JavaScript来说是完全可见的，JavaScript和WebAssembly可以通过内存交换数据。
## 表格
> C/C++等语言强烈依赖于函数指针，受限于WebAssembly虚拟机结构和安全性考虑，WebAssembly引入了表格对象用于存储函数引用。
## 实例
> 在WebAssembly中，实例用于指代一个模块及其运行时的所有状态，包括内存，表格以及导入对象等，配置这些对象并基于模块创建一个可被调用的实例的过程称为实例化。
> 导入/导出: 模块内部的WebAssembly可以通过导入对象中的导入函数调用外部JavaScript环境的方法，导出对象中的导出函数是模块提供给外部JavaScript环境使用的接口。
> 一个实例只能拥有一个内存对象以及一个表格对象，内存对象和表格对象都可以通过导入导出被多个实例共有。

## 虚拟机体系结构
> WebAssembly模块在运行时由以下几个部分组成
1. 一个全局类型数组, 与许多语言不通，wasm中类型并非是数据类型，而是函数签名，函数签名定义了函数的参数个数/参数类型/返回值类型。
2. 一个全局函数索引，其中容纳了所有的函数，包括导入的函数以及模块内部定义的函数，某个函数在函数数组重的下标称为函数索引。
3. 一个全局变量数组，其中容纳了所有的全局变量--包括导入的全局变量以及模块内部定义的全局变量。
4. 一个全局表格对象，表格也是一个数组，其中存储了元素的引用。
5. 一个全局内存对象。
6. 一个运行时栈。
7. 函数执行时可以访问一个局部变量数组，其中容纳了函数所有的局部变量。

## hello world
### webassembly部分
1. 函数导入
> 导入JavaScript的console函数
2. 初始化内存
> 把要打印的字符串写入内存
3. 函数导出
> 定义导出函数

### javascript部分